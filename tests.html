<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume Unit Tests</title>
    <link rel="stylesheet" href="css/style-tests.css">
</head>
<body>
<div class="terminal">
    <div class="terminal-header">
        <span class="term-title">Resume Test Suite</span>
    </div>
    <div class="terminal-body">
        <div id="test-output"></div>
        <div id="cursor">_</div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

<script>

    // Function to trigger confetti
    function triggerConfetti() {
        // Confetti effect from canvas-confetti library
        confetti({
            particleCount: 100, // Number of confetti particles
            angle: 90, // Direction of the confetti
            spread: 60, // Spread of the confetti
            origin: {x: 0.5, y: 0.5}, // Starting point of the confetti
            colors: ['#ff0', '#ff5', '#f00', '#000'], // Confetti colors
            scalar: 1.2 // Scaling factor for the confetti particles
        });
    }

    document.addEventListener("DOMContentLoaded", () => {
        const testOutput = document.getElementById("test-output");
        const cursor = document.getElementById("cursor");

        const tests = [
            {test: "Skeleton Loading", result: "âœ…", delay: 1000},
            {test: "Data Loaded from JSON", result: "âœ…", delay: 1000},
            {test: "Header Loads with Animations", result: "âœ…", delay: 800},
            {test: "Search Mode", result: "âœ…", delay: 1000},
            {test: "Project Badges", result: "âœ…", delay: 1000},
            {test: "Download PDF", result: "âœ…", delay: 1200},
            {test: "QR Code + URL in PDF", result: "âœ…", delay: 500},
            {test: "Built-in Messaging", result: "ðŸŒŸ", delay: 2000},
            {test: "Keyboard Shortcuts Bound", result: "âœ…", delay: 1000},
            {test: "Voice Commands", result: "âœ…", delay: 1500},
            {test: "Dark Mode Toggle", result: "âš¡", delay: 500},
            {test: "Easter Egg Console Message Detected", result: "ðŸ’¡", delay: 400},
            {test: "Push Notifications", result: "âœ…", delay: 1000},
            {test: "Analytics", result: "âœ…", delay: 1000},
            {test: "All Tests (15) Completed Successfully", result: "ðŸš€", delay: 2000}
        ];

        let currentTest = 0;

        function runTest() {
            if (currentTest < tests.length) {
                const {test, result, delay} = tests[currentTest];

                setTimeout(() => {
                    testOutput.textContent += `${test}: ${result}\n`;
                    currentTest++;
                    runTest();
                }, delay);
            } else {
                // Test completed, let's show the final line.
                setTimeout(() => {
                    testOutput.textContent += "\nFinal Coverage: 100% ðŸ”¥\n";
                    testOutput.textContent += "Generated by ResumeTestEngine v1.0.0\n";
                    triggerConfetti();
                    cursor.style.visibility = 'hidden';
                }, 500);
            }
        }

        runTest(); // Start the fake tests
    });

</script>
</body>
</html>
